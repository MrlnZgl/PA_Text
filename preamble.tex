%----------------------------------------
% Basic Packages
%----------------------------------------
\usepackage[utf8]{inputenc}

\usepackage{pifont}
\usepackage{leftidx}

\usepackage[main=english, ]{babel}
\usepackage[x11names]{xcolor}
\usepackage{pdfpages}


\usepackage{pst-grad} % For gradients
\usepackage{pst-plot} % For axes


\usepackage[T1]{fontenc}
\usepackage{fancyhdr}



\usepackage[
bookmarksnumbered=true,
hidelinks,
bookmarksopen =true,
bookmarksdepth=2
]
{hyperref}

% widow/orphan 
\clubpenalty = 10000  
\widowpenalty = 10000 \displaywidowpenalty = 10000  


%%%----------------------------------------
% Drawings
%%%----------------------------------------	
\usepackage{tikz}	% for drawings

\usepackage{pgf}


\usepackage{pgfplots}
\pgfplotsset{compat=1.13}
 \usepgfplotslibrary{patchplots}
\tikzstyle{every pin}=[%fill=white,
					   %draw=black,
					   pin edge = black,
					   font=\footnotesize]
\pgfplotsset{every  tick/.style={black}}

\usepackage{pgffor} 
	\usetikzlibrary{arrows.meta}% Pfeile in TikZ
	\usetikzlibrary{positioning}% Pfeile in TikZ
	\usetikzlibrary{bending}% Pfeile in TikZ
	\usetikzlibrary{scopes} %for TikZ Scopes
	\usetikzlibrary{patterns} % fill patterns 
	\usetikzlibrary{fadings} % fading effects
	\usetikzlibrary{decorations.pathmorphing} %Freihandlinien 
	\usetikzlibrary{calc} %Vektorrechnung
	\usetikzlibrary{datavisualization} %Data Visualization
	\usetikzlibrary{datavisualization.formats.functions} %Function evaluation within Visualizations
	\usetikzlibrary{intersections} %calc intersections of paths	
	\usetikzlibrary{plotmarks}

	
% Box plots
\pgfplotsset{
    box plot/.style={
        /pgfplots/.cd,
        black,
        only marks,
        mark=-,
        mark size=\pgfkeysvalueof{/pgfplots/box plot width},
        /pgfplots/error bars/y dir=plus,
        /pgfplots/error bars/y explicit,
        /pgfplots/table/x index=\pgfkeysvalueof{/pgfplots/box plot x index},
    },
    box plot box/.style={
        /pgfplots/error bars/draw error bar/.code 2 args={%
            \draw  ##1 -- ++(\pgfkeysvalueof{/pgfplots/box plot width},0pt) |- ##2 -- ++(-\pgfkeysvalueof{/pgfplots/box plot width},0pt) |- ##1 -- cycle;
        },
        /pgfplots/table/.cd,
        y index=\pgfkeysvalueof{/pgfplots/box plot box top index},
        y error expr={
            \thisrowno{\pgfkeysvalueof{/pgfplots/box plot box bottom index}}
            - \thisrowno{\pgfkeysvalueof{/pgfplots/box plot box top index}}
        },
        /pgfplots/box plot
    },
    box plot top whisker/.style={
        /pgfplots/error bars/draw error bar/.code 2 args={%
            \pgfkeysgetvalue{/pgfplots/error bars/error mark}%
            {\pgfplotserrorbarsmark}%
            \pgfkeysgetvalue{/pgfplots/error bars/error mark options}%
            {\pgfplotserrorbarsmarkopts}%
            \path ##1 -- ##2;
        },
        /pgfplots/table/.cd,
        y index=\pgfkeysvalueof{/pgfplots/box plot whisker top index},
        y error expr={
            \thisrowno{\pgfkeysvalueof{/pgfplots/box plot box top index}}
            - \thisrowno{\pgfkeysvalueof{/pgfplots/box plot whisker top index}}
        },
        /pgfplots/box plot
    },
    box plot bottom whisker/.style={
        /pgfplots/error bars/draw error bar/.code 2 args={%
            \pgfkeysgetvalue{/pgfplots/error bars/error mark}%
            {\pgfplotserrorbarsmark}%
            \pgfkeysgetvalue{/pgfplots/error bars/error mark options}%
            {\pgfplotserrorbarsmarkopts}%
            \path ##1 -- ##2;
        },
        /pgfplots/table/.cd,
        y index=\pgfkeysvalueof{/pgfplots/box plot whisker bottom index},
        y error expr={
            \thisrowno{\pgfkeysvalueof{/pgfplots/box plot box bottom index}}
            - \thisrowno{\pgfkeysvalueof{/pgfplots/box plot whisker bottom index}}
        },
        /pgfplots/box plot
    },
    box plot median/.style={
        /pgfplots/box plot,
        /pgfplots/table/y index=\pgfkeysvalueof{/pgfplots/box plot median index}
    },
    box plot width/.initial=0.25em,
    box plot x index/.initial=0,
    box plot median index/.initial=1,
    box plot box top index/.initial=2,
    box plot box bottom index/.initial=3,
    box plot whisker top index/.initial=4,
    box plot whisker bottom index/.initial=5,
}

\newcommand{\boxplot}[2][]{
    \addplot [box plot median,#1] table {#2};
    \addplot [forget plot, box plot box,#1] table {#2};
    \addplot [forget plot, box plot top whisker,#1] table {#2};
    \addplot [forget plot, box plot bottom whisker,#1] table {#2};
}


%%%----------------------------------------
% Math
%%%----------------------------------------
\usepackage{mathtools} %Erweiterung zu amsmath
\usepackage{amsfonts}
\usepackage{scalerel}
\usepackage{wasysym}
\usepackage[algo2e,figure]{algorithm2e}
\usepackage[chapter]{algorithm}
\usepackage{bm}	

%-----------------------------------------------
% Units
%-----------------------------------------------
\usepackage{siunitx}  
	\sisetup{per-mode=symbol-or-fraction,
			per-mode=reciprocal,
				exponent-product = \cdot , 
				output-product = \cdot ,
				}

%-----------------------------------------------
% Tables
%-----------------------------------------------
\usepackage{array} %for further options within tabular

\usepackage{tabularx}
\usepackage{booktabs}

% Custom styles for tabular
\newcolumntype{L}[1]{>{\raggedright\arraybackslash}p{#1}} % linksbündig mit Breitenangabe,top
\newcolumntype{C}[1]{>{\centering\arraybackslash}p{#1}} % zentriert mit Breitenangabe,mid
\newcolumntype{R}[1]{>{\raggedleft\arraybackslash}p{#1}} % rechtsbündig mit Breitenangabe,top

% Custom styles for tabularx
\newcolumntype{E}[1]{>{\hsize=#1\hsize\raggedright\arraybackslash}X}% left
\newcolumntype{G}[1]{>{\hsize=#1\hsize\raggedleft\arraybackslash}X}% right
\newcolumntype{F}[1]{>{\hsize=#1\hsize\centering\arraybackslash}X}% centered

\renewcommand{\arraystretch}{1.3} %größere Zeilenhöhe in tabular



%-----------------------------------------------
% Floats, Captions
%-----------------------------------------------

\usepackage{float} %force position of floats within text
\usepackage[section]{placeins}	% Floatbarriers above sections

%Floats at top of only float pages
\makeatletter
\setlength{\@fptop}{0pt}
\setlength{\@fpbot}{0pt plus 1fil}
\makeatother

%Set up of Captions
\usepackage[
	margin=10pt,
	format=plain,
	font=small,
	labelfont=bf,
	labelsep=colon,
	textformat=period,
%	figurename=Bild,
]{caption}
\captionsetup[table]{aboveskip=4pt}
\captionsetup[table]{belowskip=5pt}

%-----------------------------------------------
% Glossary
%-----------------------------------------------
\usepackage[acronym, toc, nonumberlist]{glossaries}
\makeglossaries
\newacronym{rmse}{RMSE}{root mean squared error}
\newacronym{mse}{MSE}{mean squared error}
\newacronym{er}{ER}{evaluated reaction}
\newacronym{lc}{LC}{load case}
\newacronym{lp}{LP}{load parameters}
\newacronym{ls}{LS}{load step}
\newacronym{rlr}{RLR}{reference laod reactions}
\newacronym{olr}{OLR}{optimized load reactions}
\newacronym{esr}{ESR}{evaluated stress reactions}
\newacronym{eer}{EER}{evaluated strain reactions}
\newacronym{md}{MD}{molecular dynamics}



%-----------------------------------------------
% Bibliography
%-----------------------------------------------

\usepackage[
    backend=biber,
    style=numeric-comp,
	sorting= none, 
    natbib=true,
    isbn = false,
	giveninits=true 	%First names as initials
]{biblatex}
\addbibresource{literature.bib}
\renewcommand\mkbibnamelast[1]{\textsc{#1}} %Author in small caps

\renewcommand*{\finalnamedelim}{%
  \ifnumgreater{\value{liststop}}{2}{\finalandcomma}{}%
  \addspace\&\space}										% & instead of and/und

\DefineBibliographyStrings{german}{
   andothers = {{et\,al\adddot}},            
}
\setcounter{biburllcpenalty}{9000}
\setcounter{biburlucpenalty}{9000} 
%-----------------------------------------------
% New Commands
%-----------------------------------------------

% Pfeil in Zeichnungen
\newcommand{\pfeil} {Latex[scale width =0.8, scale length=1.2,bend]}

%Überschriften
\setcounter{secnumdepth}{2} % Zahlen nur bis section
\setcounter{tocdepth}{1}	% nur bis section in ToC
\renewcommand{\autodot}{}% Remove all end-of-counter dots
\renewcommand{\chapterautorefname}{Chapter}
\renewcommand{\sectionautorefname}{Section}
\renewcommand{\subsectionautorefname}{Subsection}


\newcommand{\name}[1]{\textsc{#1}}
\newcommand{\eigenname}[1]{"#1"}
\newcommand{\benennung}[1]{\textit{#1}}

\usepackage[]{appendix}

